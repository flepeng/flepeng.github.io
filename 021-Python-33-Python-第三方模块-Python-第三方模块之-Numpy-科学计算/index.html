

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2488174175014870" crossorigin="anonymous"></script><!-- google 广告 -->
  <meta name="google-site-verification" content="40lMg4eqLLbXoDcpN3h-cEnfmselbQ8tUzNvuC0IRIs" /><!-- google 站点认证 -->
  <link rel="icon" href="/img/fluid.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="Lepeng">
  <meta name="keywords" content="">
  
    <meta name="description" content="NumPy 简介NumPy 模块NumPy：Numerical Python，即数值Python包，是Python进行科学计算的一个基础包，所以是一个掌握其他Scipy库中模块的基础模块，一定需要先掌握该包的主要使用方式。  官网：http:&#x2F;&#x2F;www.numpy.org&#x2F;  官方文档：https:&#x2F;&#x2F;docs.scipy.org&#x2F;doc&#x2F;numpy&#x2F;user&#x2F;index.html    NumP">
<meta property="og:type" content="article">
<meta property="og:title" content="Python 第三方模块之 Numpy - 科学计算">
<meta property="og:url" content="https://flepeng.github.io/021-Python-33-Python-%E7%AC%AC%E4%B8%89%E6%96%B9%E6%A8%A1%E5%9D%97-Python-%E7%AC%AC%E4%B8%89%E6%96%B9%E6%A8%A1%E5%9D%97%E4%B9%8B-Numpy-%E7%A7%91%E5%AD%A6%E8%AE%A1%E7%AE%97/index.html">
<meta property="og:site_name" content="Lepeng">
<meta property="og:description" content="NumPy 简介NumPy 模块NumPy：Numerical Python，即数值Python包，是Python进行科学计算的一个基础包，所以是一个掌握其他Scipy库中模块的基础模块，一定需要先掌握该包的主要使用方式。  官网：http:&#x2F;&#x2F;www.numpy.org&#x2F;  官方文档：https:&#x2F;&#x2F;docs.scipy.org&#x2F;doc&#x2F;numpy&#x2F;user&#x2F;index.html    NumP">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://flepeng.github.io/img/python/numpy/1621823410-e433c5dfbe79133b3bb0509b0578c44d.png">
<meta property="og:image" content="https://flepeng.github.io/img/python/numpy/1621823410-22ded5c3b068be57f4f40770f35241a7.png">
<meta property="og:image" content="https://flepeng.github.io/img/python/numpy/1621823410-5ab7ac62d800c04e83aa72e331c36269.png">
<meta property="og:image" content="https://flepeng.github.io/img/python/numpy/1621823410-bf5d0d75f2bdaec88f791e27703934fc.png">
<meta property="og:image" content="https://flepeng.github.io/img/python/numpy/1621823410-4155cd489d67392c44c18d494638df8f.png">
<meta property="og:image" content="https://flepeng.github.io/img/python/numpy/1621823410-599161bd6d959e14133fdc8719139318.png">
<meta property="og:image" content="https://flepeng.github.io/img/python/numpy/1621823410-8d8f91da5d8471fd10e7ecfffefc6568.png">
<meta property="og:image" content="https://flepeng.github.io/img/python/numpy/1621823410-f81e0dbc74479a8d84c8d3df08d4970f.png">
<meta property="og:image" content="https://flepeng.github.io/img/python/numpy/1621823410-fa3207b48182468e5d22e665cbe8c4ce.png">
<meta property="og:image" content="https://flepeng.github.io/img/python/numpy/1621823410-91df8e1c56e1b696842786ce4e6fd765.png">
<meta property="og:image" content="https://flepeng.github.io/img/python/numpy/1621823410-49715d2c43b105d76b81be4f38500b72.png">
<meta property="article:published_time" content="2016-08-02T16:00:00.000Z">
<meta property="article:modified_time" content="2025-04-03T10:25:30.336Z">
<meta property="article:author" content="Feng Lepeng">
<meta property="article:tag" content="Python">
<meta property="article:tag" content="Python 第三方模块">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://flepeng.github.io/img/python/numpy/1621823410-e433c5dfbe79133b3bb0509b0578c44d.png">
  
  
    <meta name="referrer" content="no-referrer-when-downgrade">
  
  
  <title>Python 第三方模块之 Numpy - 科学计算 - Lepeng</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"flepeng.github.io","root":"/","version":"1.9.7","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"follow_dnt":true,"baidu":"f3d259b9efd9ce8655c180fd01bf0045","google":{"measurement_id":"G-LFTE4C7W3W"},"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  

  
    <!-- Baidu Analytics -->
    <script async>
      if (!Fluid.ctx.dnt) {
        var _hmt = _hmt || [];
        (function() {
          var hm = document.createElement("script");
          hm.src = "https://hm.baidu.com/hm.js?f3d259b9efd9ce8655c180fd01bf0045";
          var s = document.getElementsByTagName("script")[0];
          s.parentNode.insertBefore(hm, s);
        })();
      }
    </script>
  

  
    <!-- Google tag (gtag.js) -->
    <script async>
      if (!Fluid.ctx.dnt) {
        Fluid.utils.createScript("https://www.googletagmanager.com/gtag/js?id=G-LFTE4C7W3W", function() {
          window.dataLayer = window.dataLayer || [];
          function gtag() {
            dataLayer.push(arguments);
          }
          gtag('js', new Date());
          gtag('config', 'G-LFTE4C7W3W');
        });
      }
    </script>
  

  

  

  

  



  
<meta name="generator" content="Hexo 4.2.1"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Lepeng 的 blog</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/" target="_self">
                <i class="iconfont icon-archive-fill"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/" target="_self">
                <i class="iconfont icon-category-fill"></i>
                <span>分类</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/" target="_self">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>关于</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="Python 第三方模块之 Numpy - 科学计算"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2016-08-03 00:00" pubdate>
          2016年8月3日 凌晨
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          4.7k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          39 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">Python 第三方模块之 Numpy - 科学计算</h1>
            
            
              <div class="markdown-body">
                
                <h1 id="NumPy-简介"><a href="#NumPy-简介" class="headerlink" title="NumPy 简介"></a>NumPy 简介</h1><h2 id="NumPy-模块"><a href="#NumPy-模块" class="headerlink" title="NumPy 模块"></a>NumPy 模块</h2><p>NumPy：Numerical Python，即数值Python包，是Python进行科学计算的一个基础包，所以是一个掌握其他Scipy库中模块的基础模块，一定需要先掌握该包的主要使用方式。</p>
<ul>
<li><p>官网：<a href="http://www.numpy.org/" target="_blank" rel="noopener">http://www.numpy.org/</a></p>
</li>
<li><p>官方文档：<a href="https://docs.scipy.org/doc/numpy/user/index.html" target="_blank" rel="noopener">https://docs.scipy.org/doc/numpy/user/index.html</a></p>
</li>
</ul>
<p><img src="/img/python/numpy/1621823410-e433c5dfbe79133b3bb0509b0578c44d.png" srcset="/img/loading.gif" lazyload></p>
<h1 id="NumPy-简介-1"><a href="#NumPy-简介-1" class="headerlink" title="NumPy 简介"></a>NumPy 简介</h1><h2 id="NumPy-发展历史"><a href="#NumPy-发展历史" class="headerlink" title="NumPy 发展历史"></a>NumPy 发展历史</h2><ol>
<li>1995年 Jim HugUNin开发了Numeric。</li>
<li>随后，Numarray包诞生。</li>
<li>Travis Oliphants整合Numeric和Numarray，开发Numpy，于2006年发布第一个版本。</li>
<li>Numpy（Numeric Python）提供了许多高级的数值编程工具，如：矩阵数据类型、矢量处理，以及精密的运算库。专为进行严格的数字处理而产生。多为很多大型金融公司使用，以及核心的科学计算组织如：Lawrence Livermore，NASA用其处理一些本来使用C++，Fortran或Matlab等所做的任务。</li>
<li>使用Anaconda发行版的Python，已经帮我们事先安装好了Numpy模块，因此无需另外安装。</li>
<li>依照标准的Numpy约定，习惯使用 import numpy as np方式导入该模块。</li>
</ol>
<h2 id="NumPy、Scipy、Pandas、matplotlib简介"><a href="#NumPy、Scipy、Pandas、matplotlib简介" class="headerlink" title="NumPy、Scipy、Pandas、matplotlib简介"></a>NumPy、Scipy、Pandas、matplotlib简介</h2><ol>
<li>NumPy——基础，以矩阵为基础的数学计算模块，纯数学存储和处理大型矩阵。这个是很基础的扩展，其余的扩展都是以此为基础。</li>
<li>Scipy——数值计算库,在numPy库的基础上增加了众多的数学、科学以及工程计算中常用的库函数。方便、易于使用、专为科学和工程设计的Python工具包.它包括统计,优化,整合,线性代数模块,傅里叶变换,信号和图像处理,常微分方程求解器等等。</li>
<li>Pandas——数据分析,基于numPy 的一种工具，为了解决数据分析任务而创建的.Pandas 纳入了大量库和一些标准的数据模型，提供了高效地操作大型数据集所需的工具。</li>
<li>matplotlib——绘图,对于图像美化方面比较完善，可以自定义线条的颜色和式样，可以在一张绘图纸上绘制多张小图，也可在一张图上绘制多条线，可以很方便的对数据进行可视化分析。</li>
</ol>
<h1 id="NumPy核心数据结构：ndarray"><a href="#NumPy核心数据结构：ndarray" class="headerlink" title="NumPy核心数据结构：ndarray"></a>NumPy核心数据结构：ndarray</h1><ul>
<li><p>NumPy的数组类被称作ndarray，通常被称作数组。注意numpy.array和标准Python库类array.array并不相同，后者只处理一维数组和提供少量功能。</p>
</li>
<li><p>一种由相同类型的元素组成的多维数组，元素数量是实现给定好的。</p>
</li>
<li><p>元素的数据类型由dtype(data-type)对象来指定，每个ndarray只有一种dtype类型。</p>
</li>
<li><p>ndarray的大小固定，创建好数组后数组大小是不会再发生改变的。</p>
</li>
</ul>
<p><img src="/img/python/numpy/1621823410-22ded5c3b068be57f4f40770f35241a7.png" srcset="/img/loading.gif" lazyload></p>
<h2 id="ndarray创建"><a href="#ndarray创建" class="headerlink" title="ndarray创建"></a>ndarray创建</h2><h3 id="函数创建"><a href="#函数创建" class="headerlink" title="函数创建"></a>函数创建</h3><h4 id="np-array"><a href="#np-array" class="headerlink" title="np.array"></a>np.array</h4><p>array：接收一个普通的python序列，并将其转换为ndarray</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs angelscript">print(np.<span class="hljs-built_in">array</span>([<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>]))    # 用列表创建一维数组<br>print(np.<span class="hljs-built_in">array</span>((<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>)))    # 用元组创建一维数组<br>print(np.<span class="hljs-built_in">array</span>([[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>],[<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>]])) 	# 创建二维数组<br>print(np.<span class="hljs-built_in">array</span>([[[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>],[<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>]], [[<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>],[<span class="hljs-number">7</span>,<span class="hljs-number">8</span>,<span class="hljs-number">9</span>]]]))  # 创建三维数组<br> <br># [<span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span>]<br># [<span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span>]  <br><br># [[<span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span>]<br># [<span class="hljs-number">3</span> <span class="hljs-number">4</span> <span class="hljs-number">5</span>]] <br><br># [[[<span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span>]<br># [<span class="hljs-number">3</span> <span class="hljs-number">4</span> <span class="hljs-number">5</span>]]<br># [[<span class="hljs-number">4</span> <span class="hljs-number">5</span> <span class="hljs-number">6</span>]<br># [<span class="hljs-number">7</span> <span class="hljs-number">8</span> <span class="hljs-number">9</span>]]]<br></code></pre></td></tr></table></figure>

<h4 id="np-zeros"><a href="#np-zeros" class="headerlink" title="np.zeros"></a>np.zeros</h4><p>zeros函数：创建指定长度或者形状的全零数组</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs angelscript">print(np.zeros((<span class="hljs-number">3</span>,<span class="hljs-number">4</span>)))<br> <br># [[<span class="hljs-number">0.</span> <span class="hljs-number">0.</span> <span class="hljs-number">0.</span> <span class="hljs-number">0.</span>]<br># [<span class="hljs-number">0.</span> <span class="hljs-number">0.</span> <span class="hljs-number">0.</span> <span class="hljs-number">0.</span>]<br># [<span class="hljs-number">0.</span> <span class="hljs-number">0.</span> <span class="hljs-number">0.</span> <span class="hljs-number">0.</span>]]<br></code></pre></td></tr></table></figure>

<h4 id="np-ones"><a href="#np-ones" class="headerlink" title="np.ones"></a>np.ones</h4><p>ones函数：创建指定长度或者形状的全1数组。</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs angelscript">print(np.ones((<span class="hljs-number">3</span>,<span class="hljs-number">4</span>)))<br> <br># [[<span class="hljs-number">1.</span> <span class="hljs-number">1.</span> <span class="hljs-number">1.</span> <span class="hljs-number">1.</span>]<br># [<span class="hljs-number">1.</span> <span class="hljs-number">1.</span> <span class="hljs-number">1.</span> <span class="hljs-number">1.</span>]<br># [<span class="hljs-number">1.</span> <span class="hljs-number">1.</span> <span class="hljs-number">1.</span> <span class="hljs-number">1.</span>]]<br></code></pre></td></tr></table></figure>

<h4 id="np-empty"><a href="#np-empty" class="headerlink" title="np.empty"></a>np.empty</h4><p>empty函数：创建一个没有任何具体值的数组(准备地说是创建一些未初始化的ndarray多维数组)</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs angelscript">print(np.empty((<span class="hljs-number">3</span>,<span class="hljs-number">4</span>)))<br> <br># [[<span class="hljs-number">6.23042070e-307</span> <span class="hljs-number">3.56043053e-307</span> <span class="hljs-number">1.37961641e-306</span> <span class="hljs-number">6.23039354e-307</span>]<br>#  [<span class="hljs-number">6.23053954e-307</span> <span class="hljs-number">9.34609790e-307</span> <span class="hljs-number">8.45593934e-307</span> <span class="hljs-number">9.34600963e-307</span>]<br>#  [<span class="hljs-number">1.86921143e-306</span> <span class="hljs-number">6.23061763e-307</span> <span class="hljs-number">9.34608432e-307</span> <span class="hljs-number">4.24399158e-314</span>]]<br></code></pre></td></tr></table></figure>

<h3 id="其他方式："><a href="#其他方式：" class="headerlink" title="其他方式："></a>其他方式：</h3><h4 id="np-arange"><a href="#np-arange" class="headerlink" title="np.arange"></a>np.arange</h4><p>arange函数: 类似python的range函数，通过指定开始值、终值和步长来创建一个一维数组，注意：最终创建的数组不包含终值</p>
<figure class="highlight gauss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs gauss"><span class="hljs-keyword">print</span>(np.<span class="hljs-built_in">arange</span>(<span class="hljs-number">9</span>))      <span class="hljs-meta"># 一个参数时代表是n值</span><br><span class="hljs-keyword">print</span>(np.<span class="hljs-built_in">arange</span>(<span class="hljs-number">0</span>,<span class="hljs-number">9</span>,<span class="hljs-number">3</span>))  <span class="hljs-meta"># 起始值，终值，步长</span><br></code></pre></td></tr></table></figure>

<h4 id="np-linspace"><a href="#np-linspace" class="headerlink" title="np.linspace"></a>np.linspace</h4><p>linspace函数：通过指定开始值、终值和元素个数来创建一个一维数组，数组的数据元素符合等差数列，可以通过endpoint关键字指定是否包含终值，默认包含终值</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs angelscript">print(np.linspace(<span class="hljs-number">0</span>,<span class="hljs-number">8</span>,<span class="hljs-number">5</span>)) # 形成一个<span class="hljs-number">0</span>到<span class="hljs-number">8</span>之间的等差数列，共<span class="hljs-number">5</span>个元素<br># [<span class="hljs-number">0.</span> <span class="hljs-number">2.</span> <span class="hljs-number">4.</span> <span class="hljs-number">6.</span> <span class="hljs-number">8.</span>]<br></code></pre></td></tr></table></figure>

<h4 id="np-logspace"><a href="#np-logspace" class="headerlink" title="np.logspace"></a>np.logspace</h4><p>logspace函数：和linspace函数类似，不过创建的是等比数列数组</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs angelscript">print(np.logspace(<span class="hljs-number">0</span>, <span class="hljs-number">2</span>, <span class="hljs-number">5</span>))  # 范围<span class="hljs-number">1</span><span class="hljs-number">-10</span>**<span class="hljs-number">2</span>,<span class="hljs-number">5</span>个元素<br>print(np.logspace(<span class="hljs-number">0</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, base=<span class="hljs-number">2</span>))  # 范围 <span class="hljs-number">1</span><span class="hljs-number">-2</span>**<span class="hljs-number">5</span>，<span class="hljs-number">6</span>个元素，base是底<br> <br># [  <span class="hljs-number">1.</span>           <span class="hljs-number">3.16227766</span>  <span class="hljs-number">10.</span>          <span class="hljs-number">31.6227766</span>  <span class="hljs-number">100.</span>        ]<br># [ <span class="hljs-number">1.</span>  <span class="hljs-number">2.</span>  <span class="hljs-number">4.</span>  <span class="hljs-number">8.</span> <span class="hljs-number">16.</span> <span class="hljs-number">32.</span>]<br></code></pre></td></tr></table></figure>

<h4 id="np-random-randint"><a href="#np-random-randint" class="headerlink" title="np.random.randint"></a>np.random.randint</h4><p>np.random.randint((m,n,size&#x3D;(a,b))):创建随机整数数组,选值的范围是 [m,n); a是数组的行；b是数组的列数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs plain">print(np.random.randint(1,9, size&#x3D;(3,4)))<br> <br># [[1 2 3 5]<br>#  [1 6 2 7]<br>#  [8 6 4 6]]<br></code></pre></td></tr></table></figure>

<h4 id="np-random-random"><a href="#np-random-random" class="headerlink" title="np.random.random"></a>np.random.random</h4><p>np.random.random((m,n,p)):创建随机数组，范围0-1之间,m为维数，默认为1; n为行数，默认为1; p为列数，默认为1</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs angelscript">print(np.random.random())<br>print(np.random.random((<span class="hljs-number">3</span>,<span class="hljs-number">3</span>)))<br>print(np.random.random((<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>)))<br> <br><span class="hljs-number">0.488869811358302</span><br> <br>[[<span class="hljs-number">0.04233258</span> <span class="hljs-number">0.3131225</span>  <span class="hljs-number">0.68944938</span>]<br> [<span class="hljs-number">0.87059721</span> <span class="hljs-number">0.67384851</span> <span class="hljs-number">0.15279566</span>]<br> [<span class="hljs-number">0.55984723</span> <span class="hljs-number">0.93180875</span> <span class="hljs-number">0.94961102</span>]]<br> <br>[[[<span class="hljs-number">0.59919237</span> <span class="hljs-number">0.1994035</span>  <span class="hljs-number">0.51349683</span> <span class="hljs-number">0.74415431</span> <span class="hljs-number">0.08967972</span>]<br>  [<span class="hljs-number">0.51202792</span> <span class="hljs-number">0.90590204</span> <span class="hljs-number">0.72763875</span> <span class="hljs-number">0.28438195</span> <span class="hljs-number">0.74681998</span>]<br>  [<span class="hljs-number">0.83841345</span> <span class="hljs-number">0.58347337</span> <span class="hljs-number">0.11484284</span> <span class="hljs-number">0.55444849</span> <span class="hljs-number">0.7978348</span> ]<br>  [<span class="hljs-number">0.28018216</span> <span class="hljs-number">0.01040884</span> <span class="hljs-number">0.57392768</span> <span class="hljs-number">0.2434304</span>  <span class="hljs-number">0.59227622</span>]]<br> [[<span class="hljs-number">0.5430919</span>  <span class="hljs-number">0.42146133</span> <span class="hljs-number">0.14726534</span> <span class="hljs-number">0.03191174</span> <span class="hljs-number">0.26208523</span>]<br>  [<span class="hljs-number">0.09970413</span> <span class="hljs-number">0.42386556</span> <span class="hljs-number">0.91181302</span> <span class="hljs-number">0.98131496</span> <span class="hljs-number">0.80365805</span>]<br>  [<span class="hljs-number">0.45376739</span> <span class="hljs-number">0.83388326</span> <span class="hljs-number">0.44127547</span> <span class="hljs-number">0.09819375</span> <span class="hljs-number">0.7977529</span> ]<br>  [<span class="hljs-number">0.94739682</span> <span class="hljs-number">0.70020476</span> <span class="hljs-number">0.21155345</span> <span class="hljs-number">0.42489893</span> <span class="hljs-number">0.99906962</span>]]<br> [[<span class="hljs-number">0.91776003</span> <span class="hljs-number">0.10385849</span> <span class="hljs-number">0.52768841</span> <span class="hljs-number">0.79937635</span> <span class="hljs-number">0.69065729</span>]<br>  [<span class="hljs-number">0.00796977</span> <span class="hljs-number">0.77475184</span> <span class="hljs-number">0.37661829</span> <span class="hljs-number">0.86323215</span> <span class="hljs-number">0.48432327</span>]<br>  [<span class="hljs-number">0.26268683</span> <span class="hljs-number">0.51724413</span> <span class="hljs-number">0.24022605</span> <span class="hljs-number">0.08388501</span> <span class="hljs-number">0.30099232</span>]<br>  [<span class="hljs-number">0.09245234</span> <span class="hljs-number">0.07751062</span> <span class="hljs-number">0.77418801</span> <span class="hljs-number">0.43640313</span> <span class="hljs-number">0.99036787</span>]]]<br></code></pre></td></tr></table></figure>

<h4 id="np-random-randn"><a href="#np-random-randn" class="headerlink" title="np.random.randn"></a>np.random.randn</h4><p>np.random.randn(m,n):创建一个标准正态分布的数组,m表示行数；n表示列数。</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs lua"><span class="hljs-built_in">print</span>(np.<span class="hljs-built_in">random</span>.randn(<span class="hljs-number">3</span>,<span class="hljs-number">2</span>))<br># <span class="hljs-string">[[ 0.10110133 -0.23799349]</span><br><span class="hljs-string">#  [ 0.44611654  2.52476781]</span><br><span class="hljs-string">#  [-0.52620207 -1.42422191]]</span><br></code></pre></td></tr></table></figure>

<h2 id="ndarray-对象属性"><a href="#ndarray-对象属性" class="headerlink" title="ndarray 对象属性"></a>ndarray 对象属性</h2><ul>
<li>ndim 数组轴(维度)的个数，轴的个数被称作秩</li>
<li>shape 数组的维度, 例如一个2排3列的矩阵，它的shape属性将是(2,3),这个元组的长度显然是秩，即维度或者ndim属性</li>
<li>size 数组元素的总个数，等于shape属性中元组元素的乘积。</li>
<li>dtype 一个用来描述数组中元素类型的对象，可以通过创造或指定dtype使用标准Python类型。不过NumPy提供它自己的数据类型。</li>
<li>itemsize 数组中每个元素的字节大小。例如，一个元素类型为float64的数组itemsiz属性值为8(&#x3D;64&#x2F;8),又如，一个元素类型为complex32的数组item属性为4(&#x3D;32&#x2F;8).</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs plain">arr &#x3D; np.random.randint(1, 9, size&#x3D;(3,3))<br>print(arr.ndim)       # 2<br>print(arr.shape)      # (3, 3)<br>print(arr.dtype)      # int32<br>print(arr.size)       # 9<br>print(arr.itemsize)   # 4<br></code></pre></td></tr></table></figure>

<h2 id="NumPy-基本数据类型"><a href="#NumPy-基本数据类型" class="headerlink" title="NumPy 基本数据类型"></a>NumPy 基本数据类型</h2><table>
<thead>
<tr>
<th>数据类型</th>
<th>类型简写</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>int_</td>
<td></td>
<td>默认整形</td>
</tr>
<tr>
<td>intc</td>
<td></td>
<td>等价于long的整形</td>
</tr>
<tr>
<td>int8</td>
<td>i1</td>
<td>字节整形，1个字节，范围:[-128,127]</td>
</tr>
<tr>
<td>int16</td>
<td>i2</td>
<td>整形,2个字节,范围:[-32768,32767]</td>
</tr>
<tr>
<td>int32</td>
<td>i3</td>
<td>整形,4个字节,范围:[-2^31, 2^31-1]</td>
</tr>
<tr>
<td>int64</td>
<td>i4</td>
<td>整形,8个字节,范围:[-2^63, 2^63-1]</td>
</tr>
<tr>
<td>uint8</td>
<td>u1</td>
<td>无符号整形, 1个字节, 范围:[0,255]</td>
</tr>
<tr>
<td>uint16</td>
<td>u2</td>
<td>无符号整形, 2个字节, 范围:[0,65535]</td>
</tr>
<tr>
<td>uint32</td>
<td>u3</td>
<td>无符号整形, 1个字节, 范围:[0, 2^32-1]</td>
</tr>
<tr>
<td>uint64</td>
<td>u4</td>
<td>无符号整形, 1个字节, 范围:[0,2^64-1]</td>
</tr>
<tr>
<td>bool_</td>
<td></td>
<td>以一个字节形成存储的布尔值(True或者False)</td>
</tr>
<tr>
<td>float_</td>
<td></td>
<td>float64简写形式</td>
</tr>
<tr>
<td>float16</td>
<td>f2</td>
<td>半精度浮点型(2字节)：1符号位+5位指数+10位的小数部分</td>
</tr>
<tr>
<td>float32</td>
<td>f4或者f</td>
<td>单精度浮点型(4字节)：1符号位+8位指数+23位的小数部分</td>
</tr>
<tr>
<td>float64</td>
<td>f8或者d</td>
<td>双精度浮点型(8字节)：1符号位+11位指数+52位的小数部分</td>
</tr>
<tr>
<td>complex_</td>
<td>c16</td>
<td>complex128的简写形式</td>
</tr>
<tr>
<td>complex64</td>
<td>c8</td>
<td>复数，由两个32位的浮点数来表示</td>
</tr>
<tr>
<td>complex128</td>
<td>c16</td>
<td>复数，由两个64位的浮点数来表示</td>
</tr>
<tr>
<td>object</td>
<td>O</td>
<td>Python对象类型</td>
</tr>
<tr>
<td>String_</td>
<td>S</td>
<td>固定长度的字符串类型(每个字符1个字节)，比如：要创建一个长度为8的字符串，应该使用S8</td>
</tr>
<tr>
<td>Unicode_</td>
<td>U</td>
<td>固定长度的unicode类型的字符串(每个字符占用字节数由平台决定)，长度定义类似String_类型</td>
</tr>
</tbody></table>
<h3 id="ndarray修改类型"><a href="#ndarray修改类型" class="headerlink" title="ndarray修改类型"></a>ndarray修改类型</h3><p>创建numpy数组的时候可以通过属性dtype显示指定数据类型，如果不指定的情况下，numpy会自动推断出适合的数据类型，所以一般不需要显示给定数据类型。</p>
<p>如果需要更改一个已经存在的数组的数据类型，可以通过astype方法进行修改从而得到一个新数组</p>
<figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs elm"><span class="hljs-title">arr</span> = np.random.randint(<span class="hljs-number">1</span>, <span class="hljs-number">9</span>, size=(<span class="hljs-number">3</span>,<span class="hljs-number">3</span>))<br><span class="hljs-title">print</span>(arr.d<span class="hljs-keyword">type</span>)          # int32<br><span class="hljs-title">arr2</span> = arr.<span class="hljs-keyword">as</span><span class="hljs-keyword">type</span>(float)<br><span class="hljs-title">print</span>(arr2.d<span class="hljs-keyword">type</span>)         # float64<br></code></pre></td></tr></table></figure>

<p>数值型dtype的命名方式为：一个类型名称(eg:int、float等)，后接一个表示各个元素位长的数字。比如Python的float数据类型(双精度浮点值)，需要占用8个字节(64位)，因此在NumPy中记为float64。每个数据类型都有一个类型代码，即简写方式</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs angelscript">arr3 = np.random.randint(<span class="hljs-number">1</span>, <span class="hljs-number">9</span>, size=(<span class="hljs-number">3</span>,<span class="hljs-number">3</span>), dtype=<span class="hljs-string">'i8'</span>)<br>print(arr3.dtype) # <span class="hljs-built_in">int</span>64<br></code></pre></td></tr></table></figure>

<h3 id="ndarray修改形状"><a href="#ndarray修改形状" class="headerlink" title="ndarray修改形状"></a>ndarray修改形状</h3><p>对于一个已经存在的ndarray数组对象而言，可以通过修改形状相关的参数&#x2F;方法从而改变数组的形状。</p>
<p>直接修改数组ndarray的shape值, 要求修改后乘积不变。</p>
<p>直接使用reshape函数创建一个改变尺寸的新数组，原数组的shape保持不变，但是<strong>新数组和原数组共享一个内存空间</strong>，也就是修改任何一个数组中的值都会对另外一个产生影响，另外要求新数组的元素个数和原数组一致。</p>
<p>当指定某一个轴为-1的时候，表示将根据数组元素的数量自动计算该轴的长度值。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs plain">arr &#x3D; np.array([1,2,3,4,5,6,7,8])<br>print(arr.reshape(2,4))<br>arr &#x3D; np.array([1,2,3,4,5,6,7,8])<br>print(arr.reshape(2,-1))<br> <br># [[1 2 3 4]<br>#  [5 6 7 8]]<br># [[1 2 3 4]<br>#  [5 6 7 8]]<br></code></pre></td></tr></table></figure>

<h1 id="NumPy基本操作"><a href="#NumPy基本操作" class="headerlink" title="NumPy基本操作"></a>NumPy基本操作</h1><h2 id="数组与标量、数组之间的运算"><a href="#数组与标量、数组之间的运算" class="headerlink" title="数组与标量、数组之间的运算"></a>数组与标量、数组之间的运算</h2><p>数组不用循环即可对每个元素执行批量的算术运算操作，这个过程叫做矢量化，即用数组表达式代替循环的做法。</p>
<p>矢量化数组运算性能比纯Python方式快上一两个数据级。</p>
<p>大小相等的两个数组之间的任何算术运算都会将其运算应用到元素级上的操作。</p>
<p>元素级操作：在NumPy中，大小相等的数组之间的运算，为元素级运算，即<strong>只用于位置相同的元素之间</strong>，所得的运算结果组成一个新的数组，运算结果的位置跟操作数位置相同。</p>
<p><img src="/img/python/numpy/1621823410-5ab7ac62d800c04e83aa72e331c36269.png" srcset="/img/loading.gif" lazyload></p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs angelscript"># 数组和标量运算<br>arr1 = np.<span class="hljs-built_in">array</span>((<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>))<br>print(arr1+<span class="hljs-number">2</span>)   # [<span class="hljs-number">3</span> <span class="hljs-number">4</span> <span class="hljs-number">5</span> <span class="hljs-number">6</span> <span class="hljs-number">7</span>]<br>print(arr1<span class="hljs-number">-3</span>)   # [<span class="hljs-number">-2</span> <span class="hljs-number">-1</span>  <span class="hljs-number">0</span>  <span class="hljs-number">1</span>  <span class="hljs-number">2</span>]<br>print(arr1*<span class="hljs-number">2</span>)   # [ <span class="hljs-number">2</span>  <span class="hljs-number">4</span>  <span class="hljs-number">6</span>  <span class="hljs-number">8</span> <span class="hljs-number">10</span>]<br>print(arr1/<span class="hljs-number">2</span>)   # [<span class="hljs-number">0.5</span> <span class="hljs-number">1.</span>  <span class="hljs-number">1.5</span> <span class="hljs-number">2.</span>  <span class="hljs-number">2.5</span>]<br>print(arr1**<span class="hljs-number">2</span>)  # [ <span class="hljs-number">1</span>  <span class="hljs-number">4</span>  <span class="hljs-number">9</span> <span class="hljs-number">16</span> <span class="hljs-number">25</span>]<br>print(<span class="hljs-number">2</span>**arr1)  # [ <span class="hljs-number">2</span>  <span class="hljs-number">4</span>  <span class="hljs-number">8</span> <span class="hljs-number">16</span> <span class="hljs-number">32</span>]<br></code></pre></td></tr></table></figure>

<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs angelscript"># 数组和数组运算<br>arr2 = np.<span class="hljs-built_in">array</span>([[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>], [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>]])<br>arr3 = np.<span class="hljs-built_in">array</span>([[<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">30</span>], [<span class="hljs-number">40</span>, <span class="hljs-number">50</span>, <span class="hljs-number">60</span>]])<br>print(arr2+arr3)  # 相乘的两者结构相同<br>print(arr2*arr3)<br>print(arr2**arr3)<br> <br># [[<span class="hljs-number">11</span> <span class="hljs-number">22</span> <span class="hljs-number">33</span>]<br>#  [<span class="hljs-number">44</span> <span class="hljs-number">55</span> <span class="hljs-number">66</span>]]<br># [[ <span class="hljs-number">10</span>  <span class="hljs-number">40</span>  <span class="hljs-number">90</span>]<br>#  [<span class="hljs-number">160</span> <span class="hljs-number">250</span> <span class="hljs-number">360</span>]]<br># [[          <span class="hljs-number">1</span>     <span class="hljs-number">1048576</span> <span class="hljs-number">-1010140999</span>]<br>#  [          <span class="hljs-number">0</span>  <span class="hljs-number">1296002393</span>           <span class="hljs-number">0</span>]]<br></code></pre></td></tr></table></figure>

<h3 id="数组的矩阵积-matrix-product"><a href="#数组的矩阵积-matrix-product" class="headerlink" title="数组的矩阵积(matrix product)"></a>数组的矩阵积(matrix product)</h3><p><strong>矩阵积</strong>(matrix product)：两个二维矩阵(行和列的矩阵)满足第一个矩阵的列数与第二个矩阵的行数相同，那么可以进行矩阵的乘法，即矩阵积，矩阵积不是元素级的运算。也称为点积、数量积。</p>
<p><img src="/img/python/numpy/1621823410-bf5d0d75f2bdaec88f791e27703934fc.png" srcset="/img/loading.gif" lazyload></p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs angelscript">arr1 = np.<span class="hljs-built_in">array</span>((<br>    (<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>),<br>    (<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>),<br>    (<span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>)))<br>arr2 = np.<span class="hljs-built_in">array</span>((<br>    (<span class="hljs-number">1</span>, <span class="hljs-number">2</span>),<br>    (<span class="hljs-number">3</span>, <span class="hljs-number">4</span>),<br>    (<span class="hljs-number">5</span>, <span class="hljs-number">6</span>)))<br>print(np.dot(arr1,arr2))<br>print(arr1.dot(arr2))<br> <br># [[ <span class="hljs-number">22</span>  <span class="hljs-number">28</span>]<br>#  [ <span class="hljs-number">49</span>  <span class="hljs-number">64</span>]<br>#  [ <span class="hljs-number">76</span> <span class="hljs-number">100</span>]]<br> <br># [[ <span class="hljs-number">22</span>  <span class="hljs-number">28</span>]<br>#  [ <span class="hljs-number">49</span>  <span class="hljs-number">64</span>]<br>#  [ <span class="hljs-number">76</span> <span class="hljs-number">100</span>]]<br></code></pre></td></tr></table></figure>

<h2 id="数组的索引与切片"><a href="#数组的索引与切片" class="headerlink" title="数组的索引与切片"></a>数组的索引与切片</h2><h3 id="ndarray-多维数组的索引"><a href="#ndarray-多维数组的索引" class="headerlink" title="ndarray-多维数组的索引"></a>ndarray-多维数组的索引</h3><p><img src="/img/python/numpy/1621823410-4155cd489d67392c44c18d494638df8f.png" srcset="/img/loading.gif" lazyload></p>
<p>根据数组的形状，进行索引</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs angelscript">arr2 = np.arange(<span class="hljs-number">27</span>).reshape(<span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>)<br>print(arr2)<br>print(arr2[<span class="hljs-number">0</span>])  # 一维索引<br>print(arr2[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>])  # 一维，二维<br>print(arr2[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>][<span class="hljs-number">2</span>])  # 一维，二维，三维<br>print(arr2[<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>])  # 推荐写法<br> <br># [[[ <span class="hljs-number">0</span>  <span class="hljs-number">1</span>  <span class="hljs-number">2</span>]<br>#   [ <span class="hljs-number">3</span>  <span class="hljs-number">4</span>  <span class="hljs-number">5</span>]<br>#   [ <span class="hljs-number">6</span>  <span class="hljs-number">7</span>  <span class="hljs-number">8</span>]]<br>#  [[ <span class="hljs-number">9</span> <span class="hljs-number">10</span> <span class="hljs-number">11</span>]<br>#   [<span class="hljs-number">12</span> <span class="hljs-number">13</span> <span class="hljs-number">14</span>]<br>#   [<span class="hljs-number">15</span> <span class="hljs-number">16</span> <span class="hljs-number">17</span>]]<br>#  [[<span class="hljs-number">18</span> <span class="hljs-number">19</span> <span class="hljs-number">20</span>]<br>#   [<span class="hljs-number">21</span> <span class="hljs-number">22</span> <span class="hljs-number">23</span>]<br>#   [<span class="hljs-number">24</span> <span class="hljs-number">25</span> <span class="hljs-number">26</span>]]]<br> <br># [[<span class="hljs-number">0</span> <span class="hljs-number">1</span> <span class="hljs-number">2</span>]<br>#  [<span class="hljs-number">3</span> <span class="hljs-number">4</span> <span class="hljs-number">5</span>]<br>#  [<span class="hljs-number">6</span> <span class="hljs-number">7</span> <span class="hljs-number">8</span>]]<br> <br># [<span class="hljs-number">3</span> <span class="hljs-number">4</span> <span class="hljs-number">5</span>]<br> <br># <span class="hljs-number">5</span><br> <br># <span class="hljs-number">5</span><br></code></pre></td></tr></table></figure>

<h3 id="切片"><a href="#切片" class="headerlink" title="切片"></a>切片</h3><p>在各维度上单独切片，如果某维度数据都保留，直接使用冒号，不指定起始值和终值</p>
<p>从Numpy切片得到的数组，只是原来数组的一个视图，<strong>内部数据使用相同的存储地址</strong>，所以对切片得到的数组修改会影响原数组</p>
<p><img src="/img/python/numpy/1621823410-599161bd6d959e14133fdc8719139318.png" srcset="/img/loading.gif" lazyload></p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs angelscript">print(arr2[<span class="hljs-number">0</span>:<span class="hljs-number">2</span>, <span class="hljs-number">1</span>, :])<br> <br># [[ <span class="hljs-number">3</span>  <span class="hljs-number">4</span>  <span class="hljs-number">5</span>]<br>#  [<span class="hljs-number">12</span> <span class="hljs-number">13</span> <span class="hljs-number">14</span>]]<br></code></pre></td></tr></table></figure>

<h3 id="布尔类型索引"><a href="#布尔类型索引" class="headerlink" title="布尔类型索引"></a>布尔类型索引</h3><p>利用布尔类型的数组进行数据索引，最终返回的结果是对应索引数组中数据为True位置的值。</p>
<p><img src="/img/python/numpy/1621823410-8d8f91da5d8471fd10e7ecfffefc6568.png" srcset="/img/loading.gif" lazyload></p>
<p><img src="/img/python/numpy/1621823410-f81e0dbc74479a8d84c8d3df08d4970f.png" srcset="/img/loading.gif" lazyload></p>
<h3 id="ndarray-花式索引"><a href="#ndarray-花式索引" class="headerlink" title="ndarray-花式索引"></a>ndarray-花式索引</h3><p>花式索引(Fancy indexing)指的是利用整数数组进行索引的方式</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br>arr1 = np.arange(<span class="hljs-number">32</span>).reshape(<span class="hljs-number">8</span>, <span class="hljs-number">4</span>)<br>print(arr1)<br>print(<span class="hljs-string">"========= 获取 0,3,5 行的数据 ========="</span>)<br>print(arr1[[<span class="hljs-number">0</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>]])<br>print(<span class="hljs-string">"========= 获取 (0,0),(3,2),(5,2) 的数据 ========="</span>)<br>print(arr1[[<span class="hljs-number">0</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>], [<span class="hljs-number">0</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>]])<br>print(<span class="hljs-string">"========= 获取 0,3,5 行 0,2,3 列的数据 ========="</span>)<br>print(arr1[[<span class="hljs-number">0</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>]].T[[<span class="hljs-number">0</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]].T)<br>print(arr1[np.ix_([<span class="hljs-number">0</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>], [<span class="hljs-number">0</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>])])<br><br><span class="hljs-comment"># [[ 0  1  2  3]</span><br><span class="hljs-comment">#  [ 4  5  6  7]</span><br><span class="hljs-comment">#  [ 8  9 10 11]</span><br><span class="hljs-comment">#  [12 13 14 15]</span><br><span class="hljs-comment">#  [16 17 18 19]</span><br><span class="hljs-comment">#  [20 21 22 23]</span><br><span class="hljs-comment">#  [24 25 26 27]</span><br><span class="hljs-comment">#  [28 29 30 31]]</span><br><span class="hljs-comment"># ========= 获取 0,3,5 行的数据 =========</span><br><span class="hljs-comment"># [[ 0  1  2  3]</span><br><span class="hljs-comment">#  [12 13 14 15]</span><br><span class="hljs-comment">#  [20 21 22 23]]</span><br><span class="hljs-comment"># ========= 获取 (0,0),(3,2),(5,2) 的数据 =========</span><br><span class="hljs-comment"># [ 0 14 22]</span><br><span class="hljs-comment"># ========= 获取 0,3,5 行 0,2,3 列的数据 =========</span><br><span class="hljs-comment"># [[ 0  2  3]</span><br><span class="hljs-comment">#  [12 14 15]</span><br><span class="hljs-comment">#  [20 22 23]]</span><br><span class="hljs-comment"># [[ 0  2  3]</span><br><span class="hljs-comment">#  [12 14 15]</span><br><span class="hljs-comment">#  [20 22 23]]</span><br></code></pre></td></tr></table></figure>

<h3 id="数组的转置与轴对换"><a href="#数组的转置与轴对换" class="headerlink" title="数组的转置与轴对换"></a>数组的转置与轴对换</h3><p>数组转置是指将shape进行重置操作，并将其值重置为原始shape元组的倒置，比如原始的shape值为:(2,3,4)，那么转置后的新元组的shape的值为: (4,3,2)</p>
<p>对于二维数组而言(矩阵)数组的转置其实就是矩阵的转置</p>
<p>可以通过调用数组的transpose函数或者T属性进行数组转置操作</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs angelscript">arr1 = np.arange(<span class="hljs-number">20</span>).reshape(<span class="hljs-number">5</span>,<span class="hljs-number">-1</span>)<br>print(arr1)<br>arr2 = arr1.transpose()<br>print(arr2)<br>arr3 = arr1.T<br>print(arr3)<br> <br>#################<br>[[ <span class="hljs-number">0</span>  <span class="hljs-number">1</span>  <span class="hljs-number">2</span>  <span class="hljs-number">3</span>]<br> [ <span class="hljs-number">4</span>  <span class="hljs-number">5</span>  <span class="hljs-number">6</span>  <span class="hljs-number">7</span>]<br> [ <span class="hljs-number">8</span>  <span class="hljs-number">9</span> <span class="hljs-number">10</span> <span class="hljs-number">11</span>]<br> [<span class="hljs-number">12</span> <span class="hljs-number">13</span> <span class="hljs-number">14</span> <span class="hljs-number">15</span>]<br> [<span class="hljs-number">16</span> <span class="hljs-number">17</span> <span class="hljs-number">18</span> <span class="hljs-number">19</span>]]<br>#################<br>[[ <span class="hljs-number">0</span>  <span class="hljs-number">4</span>  <span class="hljs-number">8</span> <span class="hljs-number">12</span> <span class="hljs-number">16</span>]<br> [ <span class="hljs-number">1</span>  <span class="hljs-number">5</span>  <span class="hljs-number">9</span> <span class="hljs-number">13</span> <span class="hljs-number">17</span>]<br> [ <span class="hljs-number">2</span>  <span class="hljs-number">6</span> <span class="hljs-number">10</span> <span class="hljs-number">14</span> <span class="hljs-number">18</span>]<br> [ <span class="hljs-number">3</span>  <span class="hljs-number">7</span> <span class="hljs-number">11</span> <span class="hljs-number">15</span> <span class="hljs-number">19</span>]]<br>#################<br>[[ <span class="hljs-number">0</span>  <span class="hljs-number">4</span>  <span class="hljs-number">8</span> <span class="hljs-number">12</span> <span class="hljs-number">16</span>]<br> [ <span class="hljs-number">1</span>  <span class="hljs-number">5</span>  <span class="hljs-number">9</span> <span class="hljs-number">13</span> <span class="hljs-number">17</span>]<br> [ <span class="hljs-number">2</span>  <span class="hljs-number">6</span> <span class="hljs-number">10</span> <span class="hljs-number">14</span> <span class="hljs-number">18</span>]<br> [ <span class="hljs-number">3</span>  <span class="hljs-number">7</span> <span class="hljs-number">11</span> <span class="hljs-number">15</span> <span class="hljs-number">19</span>]]<br></code></pre></td></tr></table></figure>

<h2 id="通用函数：快速的元素级数组成函数"><a href="#通用函数：快速的元素级数组成函数" class="headerlink" title="通用函数：快速的元素级数组成函数"></a>通用函数：快速的元素级数组成函数</h2><p>ufunc：numpy模块中对ndarray中数据进行快速元素级运算的函数，也可以看做是简单的函数(接受一个或多个标量值，并产生一个或多个标量值)的矢量化包装器。</p>
<p>主要包括一元函数和二元函数</p>
<h3 id="ndarray-通用函数-一元函数"><a href="#ndarray-通用函数-一元函数" class="headerlink" title="ndarray-通用函数(一元函数)"></a>ndarray-通用函数(一元函数)</h3><table>
<thead>
<tr>
<th>一元ufunc</th>
<th>描述</th>
<th>调用方式</th>
</tr>
</thead>
<tbody><tr>
<td>abs, fabs</td>
<td>计算整数、浮点数或者复数的绝对值，对于非复数，可以使用更快的fabs</td>
<td>np.abs(arr) np.fabs(arr)</td>
</tr>
<tr>
<td>sqrt</td>
<td>计算各个元素的平方根，相当于arr ** 0.5， 要求arr的每个元素必须是非负数</td>
<td>np.sqrt(arr)</td>
</tr>
<tr>
<td>square</td>
<td>计算各个元素的评分，相当于arr ** 2</td>
<td>np.square(arr)</td>
</tr>
<tr>
<td>exp</td>
<td>计算各个元素的指数e的x次方</td>
<td>np.exp(arr)</td>
</tr>
<tr>
<td>log、log10、log2、log1p</td>
<td>分别计算自然对数、底数为10的log、底数为2的log以及log(1+x)；要求arr中的每个元素必须为正数</td>
<td>np.log(arr) np.log10(arr) np.log2(arr) np.log1p(arr)</td>
</tr>
<tr>
<td>sign</td>
<td>计算各个元素的正负号: 1 正数，0：零，-1：负数</td>
<td>np.sign(arr)</td>
</tr>
<tr>
<td>ceil</td>
<td>计算各个元素的ceiling值，即大于等于该值的最小整数</td>
<td>np.ceil(arr)</td>
</tr>
<tr>
<td>floor</td>
<td>计算各个元素的floor值，即小于等于该值的最大整数</td>
<td>np.floor(arr)</td>
</tr>
<tr>
<td>rint</td>
<td>将各个元素值四舍五入到最接近的整数，保留dtype的类型</td>
<td>np.rint(arr)</td>
</tr>
<tr>
<td>modf</td>
<td>将数组中元素的小数位和整数位以两部分独立数组的形式返回</td>
<td>np.modf(arr)</td>
</tr>
<tr>
<td>isnan</td>
<td>返回一个表示“那些值是NaN(不是一个数字)”的布尔类型数组</td>
<td>np.isnan(arr)</td>
</tr>
<tr>
<td>isfinite、isinf</td>
<td>分别一个表示”那些元素是有穷的(非inf、非NaN)”或者“那些元素是无穷的”的布尔型数组</td>
<td>np.isfinite(arr) np.isinf(arr)</td>
</tr>
<tr>
<td>cos、cosh、sin、sinh、tan、tanh</td>
<td>普通以及双曲型三角函数</td>
<td>np.cos(arr)  np.sin(arr)  np.tan(arr)</td>
</tr>
<tr>
<td>arccos、arccosh、 arcsin、arcsinh、 arctan、arctanh</td>
<td>反三角函数</td>
<td></td>
</tr>
</tbody></table>
<p><img src="/img/python/numpy/1621823410-fa3207b48182468e5d22e665cbe8c4ce.png" srcset="/img/loading.gif" lazyload></p>
<p><img src="/img/python/numpy/1621823410-91df8e1c56e1b696842786ce4e6fd765.png" srcset="/img/loading.gif" lazyload></p>
<h3 id="ndarray-通用函数-二元函数"><a href="#ndarray-通用函数-二元函数" class="headerlink" title="ndarray-通用函数(二元函数)"></a>ndarray-通用函数(二元函数)</h3><table>
<thead>
<tr>
<th>二元ufunc</th>
<th>描述</th>
<th>调用方式</th>
</tr>
</thead>
<tbody><tr>
<td>mod</td>
<td>元素级的取模</td>
<td>np.mod(arr1,arr2)</td>
</tr>
<tr>
<td>dot</td>
<td>求两个数组的点积</td>
<td>np.dot(arr1,arr2)</td>
</tr>
<tr>
<td>greater、greater_equal、 less、less_equal、 equal、not_equal</td>
<td>执行元素级别的比较运算，最终返回一个布尔型数组</td>
<td>np.greater(arr1, arr2)  np.less(arr1, arr2)  np.equal(arr1, arr2)</td>
</tr>
<tr>
<td>logical_and、logical_or、 logical_xor</td>
<td>执行元素级别的布尔逻辑运算，相当于中缀运算符&amp;、^</td>
<td>np.logical_and(arr1,arr2)  np.logical_or(arr1,arr2)  np.logical_xor(arr1,arr2)</td>
</tr>
<tr>
<td>power</td>
<td>求解对数组中的每个元素进行给定次数的指数值，类似于: arr ** 3</td>
<td></td>
</tr>
</tbody></table>
<p><img src="/img/python/numpy/1621823410-49715d2c43b105d76b81be4f38500b72.png" srcset="/img/loading.gif" lazyload></p>
<h3 id="聚合函数"><a href="#聚合函数" class="headerlink" title="聚合函数"></a>聚合函数</h3><p>聚合函数是对一组值(eg一个数组)进行操作，返回一个单一值作为结果的函数。当然聚合函数也可以指定对某个具体的轴进行数据聚合操作；常将的聚合操作有：平均值、最大值、最小值、方差等等</p>
<p><strong>当axis&#x3D;0表示列;axis&#x3D;1表示行,不写代表计算整个矩阵的</strong></p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-string">arr</span> <span class="hljs-string">=</span> <span class="hljs-string">np.array([[1,</span> <span class="hljs-number">5</span><span class="hljs-string">,</span> <span class="hljs-number">7</span><span class="hljs-string">,</span> <span class="hljs-number">4</span><span class="hljs-string">],</span> <span class="hljs-string">[0,</span> <span class="hljs-number">6</span><span class="hljs-string">,</span> <span class="hljs-number">3</span><span class="hljs-string">,</span> <span class="hljs-number">8</span><span class="hljs-string">],</span> <span class="hljs-string">[2,</span> <span class="hljs-number">6</span><span class="hljs-string">,</span> <span class="hljs-number">9</span><span class="hljs-string">,</span> <span class="hljs-number">7</span><span class="hljs-string">]])</span><br><span class="hljs-string">print(arr)</span><br><span class="hljs-string">print('arr的最小值是:',</span> <span class="hljs-string">arr.min())</span><br><span class="hljs-string">print('arr的最大值是:',</span> <span class="hljs-string">arr.max())</span><br><span class="hljs-string">print('arr的平均值是:',</span> <span class="hljs-string">arr.mean())</span><br><span class="hljs-string">print('arr的标准差差是:',</span> <span class="hljs-string">arr.std())</span><br><span class="hljs-string">print('arr的方差是:',</span> <span class="hljs-string">np.power(arr.std(),2))</span><br><span class="hljs-string">print('arr中每一列的最小值是:',</span> <span class="hljs-string">arr.min(axis=0))</span>  <span class="hljs-comment"># 当axis=0表示列;axis=1表示行</span><br><span class="hljs-string">print('arr中每一列的最大值是:',</span> <span class="hljs-string">arr.max(axis=0))</span><br><span class="hljs-string">print('arr中每一列的平均值是:',</span> <span class="hljs-string">arr.mean(axis=0))</span><br><span class="hljs-string">print('arr中每一行的最小值是:',</span> <span class="hljs-string">arr.min(axis=1))</span><br><span class="hljs-string">print('arr中每一行的最大值是:',</span> <span class="hljs-string">arr.max(axis=1))</span><br><span class="hljs-string">print('arr中每一行的平均值是:',</span> <span class="hljs-string">arr.mean(axis=1))</span><br> <br><span class="hljs-comment">###############################################################################</span><br><span class="hljs-string">[[1</span> <span class="hljs-number">5</span> <span class="hljs-number">7</span> <span class="hljs-number">4</span><span class="hljs-string">]</span><br> <span class="hljs-string">[0</span> <span class="hljs-number">6</span> <span class="hljs-number">3</span> <span class="hljs-number">8</span><span class="hljs-string">]</span><br> <span class="hljs-string">[2</span> <span class="hljs-number">6</span> <span class="hljs-number">9</span> <span class="hljs-number">7</span><span class="hljs-string">]]</span><br><span class="hljs-string">arr的最小值是:</span> <span class="hljs-number">0</span><br><span class="hljs-string">arr的最大值是:</span> <span class="hljs-number">9</span><br><span class="hljs-string">arr的平均值是:</span> <span class="hljs-number">4.833333333333333</span><br><span class="hljs-string">arr的标准差差是:</span> <span class="hljs-number">2.733536577809454</span><br><span class="hljs-string">arr的方差是:</span> <span class="hljs-number">7.472222222222221</span><br><span class="hljs-string">arr中每一列的最小值是:</span> <span class="hljs-string">[0</span> <span class="hljs-number">5</span> <span class="hljs-number">3</span> <span class="hljs-number">4</span><span class="hljs-string">]</span><br><span class="hljs-string">arr中每一列的最大值是:</span> <span class="hljs-string">[2</span> <span class="hljs-number">6</span> <span class="hljs-number">9</span> <span class="hljs-number">8</span><span class="hljs-string">]</span><br><span class="hljs-string">arr中每一列的平均值是:</span> <span class="hljs-string">[1.</span>         <span class="hljs-number">5.66666667</span> <span class="hljs-number">6.33333333</span> <span class="hljs-number">6.33333333</span><span class="hljs-string">]</span><br><span class="hljs-string">arr中每一行的最小值是:</span> <span class="hljs-string">[1</span> <span class="hljs-number">0</span> <span class="hljs-number">2</span><span class="hljs-string">]</span><br><span class="hljs-string">arr中每一行的最大值是:</span> <span class="hljs-string">[7</span> <span class="hljs-number">8</span> <span class="hljs-number">9</span><span class="hljs-string">]</span><br><span class="hljs-string">arr中每一行的平均值是:</span> <span class="hljs-string">[4.25</span> <span class="hljs-number">4.25</span> <span class="hljs-number">6</span><span class="hljs-string">.</span>  <span class="hljs-string">]</span><br></code></pre></td></tr></table></figure>

<h3 id="np-where函数"><a href="#np-where函数" class="headerlink" title="np.where函数"></a>np.where函数</h3><p>np.where函数是三元表达式x if condition else y的矢量化版本</p>
<figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs subunit">arr1 = np.array([<span class="hljs-string">-1</span>.1,<span class="hljs-string">-1</span>.2,<span class="hljs-string">-1</span>.3,<span class="hljs-string">-1</span>.4,<span class="hljs-string">-1</span>.5])<br>arr2 = np.array([<span class="hljs-string">-2</span>.1,<span class="hljs-string">-2</span>.2,<span class="hljs-string">-2</span>.3,<span class="hljs-string">-2</span>.4,<span class="hljs-string">-2</span>.5])<br>condition = (arr1&lt;arr2)<br>result1 = [x if c else y for (x,y,c) in zip(arr1, arr2, condition)]  # 用于一维数组，不能用于多维<br>result2 = np.where(condition, arr1, arr2)  # 适合任何维度<br>print('使用python语法,结果为:', result1,';数据类型为:', type(result1))<br>print('使用np.where语法,结果为:', result2,';数据类型为:', type(result2))<br><br># 使用python语法,结果为: [<span class="hljs-string">-2</span>.1, <span class="hljs-string">-2</span>.2, <span class="hljs-string">-2</span>.3, <span class="hljs-string">-2</span>.4, <span class="hljs-string">-2</span>.5] ;数据类型为: &lt;class 'list'&gt;<br># 使用np.where语法,结果为: [<span class="hljs-string">-2</span>.1 <span class="hljs-string">-2</span>.2 <span class="hljs-string">-2</span>.3 <span class="hljs-string">-2</span>.4 <span class="hljs-string">-2</span>.5] ;数据类型为: &lt;class 'numpy.ndarray'&gt;<br></code></pre></td></tr></table></figure>

<p>将数组中的所有异常数字替换为0，比如将NaN替换为0</p>
<figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs clean">arr3 = np.array([<br>[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, np.nan, <span class="hljs-number">4</span>],<br>[<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, np.nan],<br>[<span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, np.inf],<br>[np.inf, np.e, np.pi, <span class="hljs-number">4</span>]<br>])<br>condition = np.isnan(arr3)|np.isinf(arr3)<br>print(arr3)<br>print(np.<span class="hljs-keyword">where</span>(condition, <span class="hljs-number">0</span>, arr3))<br> <br>##############################################################<span class="hljs-number">3</span><br>[[<span class="hljs-number">1.</span>         <span class="hljs-number">2.</span>                nan <span class="hljs-number">4.</span>        ]<br> [<span class="hljs-number">4.</span>         <span class="hljs-number">5.</span>         <span class="hljs-number">6.</span>                nan]<br> [<span class="hljs-number">7.</span>         <span class="hljs-number">8.</span>         <span class="hljs-number">9.</span>                inf]<br> [       inf <span class="hljs-number">2.71828183</span> <span class="hljs-number">3.14159265</span> <span class="hljs-number">4.</span>        ]]<br>[[<span class="hljs-number">1.</span>         <span class="hljs-number">2.</span>         <span class="hljs-number">0.</span>         <span class="hljs-number">4.</span>        ]<br> [<span class="hljs-number">4.</span>         <span class="hljs-number">5.</span>         <span class="hljs-number">6.</span>         <span class="hljs-number">0.</span>        ]<br> [<span class="hljs-number">7.</span>         <span class="hljs-number">8.</span>         <span class="hljs-number">9.</span>         <span class="hljs-number">0.</span>        ]<br> [<span class="hljs-number">0.</span>         <span class="hljs-number">2.71828183</span> <span class="hljs-number">3.14159265</span> <span class="hljs-number">4.</span>        ]]<br></code></pre></td></tr></table></figure>

<h3 id="np-unique函数"><a href="#np-unique函数" class="headerlink" title="np.unique函数"></a>np.unique函数</h3><p>np.unique函数的主要作用是将数组中的元素进行去重操作(也就是只保存不重复的数据)</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs go">arr1 = np.array([<span class="hljs-string">'a'</span>, <span class="hljs-string">'b'</span>, <span class="hljs-string">'c'</span>, <span class="hljs-string">'a'</span>, <span class="hljs-string">'d'</span>, <span class="hljs-string">'c'</span>, <span class="hljs-string">'e'</span>])<br>arr2 = np.unique(arr1)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">'原始数据:'</span>, arr1)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">'去重之后的数据:'</span>, arr2)<br> <br># 原始数据: [<span class="hljs-string">'a'</span> <span class="hljs-string">'b'</span> <span class="hljs-string">'c'</span> <span class="hljs-string">'a'</span> <span class="hljs-string">'d'</span> <span class="hljs-string">'c'</span> <span class="hljs-string">'e'</span>]<br># 去重之后的数据: [<span class="hljs-string">'a'</span> <span class="hljs-string">'b'</span> <span class="hljs-string">'c'</span> <span class="hljs-string">'d'</span> <span class="hljs-string">'e'</span>]<br></code></pre></td></tr></table></figure>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/Python/" class="category-chain-item">Python</a>
  
  
    <span>></span>
    
  <a href="/categories/Python/Python-%E7%AC%AC%E4%B8%89%E6%96%B9%E6%A8%A1%E5%9D%97/" class="category-chain-item">Python 第三方模块</a>
  
  

  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/Python/" class="print-no-link">#Python</a>
      
        <a href="/tags/Python-%E7%AC%AC%E4%B8%89%E6%96%B9%E6%A8%A1%E5%9D%97/" class="print-no-link">#Python 第三方模块</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>Python 第三方模块之 Numpy - 科学计算</div>
      <div>https://flepeng.github.io/021-Python-33-Python-第三方模块-Python-第三方模块之-Numpy-科学计算/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>Lepeng</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2016年8月3日</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>许可协议</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - 署名">
                    <i class="iconfont icon-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/021-Python-33-Python-%E7%AC%AC%E4%B8%89%E6%96%B9%E6%A8%A1%E5%9D%97-Python-%E7%AC%AC%E4%B8%89%E6%96%B9%E6%A8%A1%E5%9D%97%E4%B9%8B-Celery-%E5%88%86%E5%B8%83%E5%BC%8F%E4%BB%BB%E5%8A%A1%E9%98%9F%E5%88%97/" title="Python 第三方模块之 Celery - 分布式任务队列">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">Python 第三方模块之 Celery - 分布式任务队列</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/021-Python-33-Python-%E7%AC%AC%E4%B8%89%E6%96%B9%E6%A8%A1%E5%9D%97-Python-%E7%AC%AC%E4%B8%89%E6%96%B9%E6%A8%A1%E5%9D%97%E4%B9%8B-ElementTree%EF%BC%88ET%EF%BC%89-%E8%A7%A3%E6%9E%90XML%E6%96%87%E4%BB%B6/" title="Python 第三方模块之 ElementTree（ET）- 解析XML文件">
                        <span class="hidden-mobile">Python 第三方模块之 ElementTree（ET）- 解析XML文件</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
  
  
    <article id="comments" lazyload>
      
    <div id="giscus" class="giscus"></div>
    <script type="text/javascript">
      Fluid.utils.loadComments('#giscus', function() {
        var options = {"repo":"flepeng/hexo-blog-comment","repo-id":"R_kgDOL0qaig","category":"Announcements","category-id":"DIC_kwDOL0qais4CfBIv","theme-light":"light","theme-dark":"dark","mapping":"pathname","reactions-enabled":1,"emit-metadata":0,"input-position":"top","lang":"zh-CN"};
        var attributes = {};
        for (let option in options) {
          if (!option.startsWith('theme-')) {
            var key = option.startsWith('data-') ? option : 'data-' + option;
            attributes[key] = options[option];
          }
        }
        var light = 'light';
        var dark = 'dark';
        window.GiscusThemeLight = light;
        window.GiscusThemeDark = dark;
        attributes['data-theme'] = document.documentElement.getAttribute('data-user-color-scheme') === 'dark' ? dark : light;
        for (let attribute in attributes) {
          var value = attributes[attribute];
          if (value === undefined || value === null || value === '') {
            delete attributes[attribute];
          }
        }
        var s = document.createElement('script');
        s.setAttribute('src', 'https://giscus.app/client.js');
        s.setAttribute('crossorigin', 'anonymous');
        for (let attribute in attributes) {
          s.setAttribute(attribute, attributes[attribute]);
        }
        var ss = document.getElementsByTagName('script');
        var e = ss.length > 0 ? ss[ss.length - 1] : document.head || document.documentElement;
        e.parentNode.insertBefore(s, e.nextSibling);
      });
    </script>
    <noscript>Please enable JavaScript to view the comments</noscript>


    </article>
  


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
    <div class="statistics">
  
  

  
    
      <span id="busuanzi_container_site_pv" style="display: none">
        总访问量 
        <span id="busuanzi_value_site_pv"></span>
         次
      </span>
    
    
      <span id="busuanzi_container_site_uv" style="display: none">
        总访客数 
        <span id="busuanzi_value_site_uv"></span>
         人
      </span>
    
    
  
</div>

  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>

  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</body>
</html>
