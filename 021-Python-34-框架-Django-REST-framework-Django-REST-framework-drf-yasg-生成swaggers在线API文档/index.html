

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2488174175014870" crossorigin="anonymous"></script><!-- google 广告 -->
  <meta name="google-site-verification" content="40lMg4eqLLbXoDcpN3h-cEnfmselbQ8tUzNvuC0IRIs" /><!-- google 站点认证 -->
  <link rel="icon" href="/img/fluid.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="Lepeng">
  <meta name="keywords" content="">
  
    <meta name="description" content="安装1pip install drf-yasg  第一步：新建一个Django项目1django-admin.py startproject DjangoDrfTest  第二步：新建一个APP1python manage.py startapp news  第三步：修改settings.py12345678910111213141516171819202122232425262728293031">
<meta property="og:type" content="article">
<meta property="og:title" content="Django REST framework +drf_yasg 生成swaggers在线API文档">
<meta property="og:url" content="https://flepeng.github.io/021-Python-34-%E6%A1%86%E6%9E%B6-Django-REST-framework-Django-REST-framework-drf-yasg-%E7%94%9F%E6%88%90swaggers%E5%9C%A8%E7%BA%BFAPI%E6%96%87%E6%A1%A3/index.html">
<meta property="og:site_name" content="Lepeng">
<meta property="og:description" content="安装1pip install drf-yasg  第一步：新建一个Django项目1django-admin.py startproject DjangoDrfTest  第二步：新建一个APP1python manage.py startapp news  第三步：修改settings.py12345678910111213141516171819202122232425262728293031">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2016-08-03T16:00:00.000Z">
<meta property="article:modified_time" content="2025-04-03T10:25:30.337Z">
<meta property="article:author" content="Feng Lepeng">
<meta property="article:tag" content="Python">
<meta property="article:tag" content="Django">
<meta property="article:tag" content="DRF">
<meta name="twitter:card" content="summary_large_image">
  
  
    <meta name="referrer" content="no-referrer-when-downgrade">
  
  
  <title>Django REST framework +drf_yasg 生成swaggers在线API文档 - Lepeng</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"flepeng.github.io","root":"/","version":"1.9.7","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"follow_dnt":true,"baidu":"f3d259b9efd9ce8655c180fd01bf0045","google":{"measurement_id":"G-LFTE4C7W3W"},"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  

  
    <!-- Baidu Analytics -->
    <script async>
      if (!Fluid.ctx.dnt) {
        var _hmt = _hmt || [];
        (function() {
          var hm = document.createElement("script");
          hm.src = "https://hm.baidu.com/hm.js?f3d259b9efd9ce8655c180fd01bf0045";
          var s = document.getElementsByTagName("script")[0];
          s.parentNode.insertBefore(hm, s);
        })();
      }
    </script>
  

  
    <!-- Google tag (gtag.js) -->
    <script async>
      if (!Fluid.ctx.dnt) {
        Fluid.utils.createScript("https://www.googletagmanager.com/gtag/js?id=G-LFTE4C7W3W", function() {
          window.dataLayer = window.dataLayer || [];
          function gtag() {
            dataLayer.push(arguments);
          }
          gtag('js', new Date());
          gtag('config', 'G-LFTE4C7W3W');
        });
      }
    </script>
  

  

  

  

  



  
<meta name="generator" content="Hexo 4.2.1"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Lepeng 的 blog</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/" target="_self">
                <i class="iconfont icon-archive-fill"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/" target="_self">
                <i class="iconfont icon-category-fill"></i>
                <span>分类</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/" target="_self">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>关于</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="Django REST framework +drf_yasg 生成swaggers在线API文档"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2016-08-04 00:00" pubdate>
          2016年8月4日 凌晨
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          1.1k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          10 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">Django REST framework +drf_yasg 生成swaggers在线API文档</h1>
            
            
              <div class="markdown-body">
                
                <h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake">pip <span class="hljs-keyword">install</span> drf-yasg<br></code></pre></td></tr></table></figure>

<h2 id="第一步：新建一个Django项目"><a href="#第一步：新建一个Django项目" class="headerlink" title="第一步：新建一个Django项目"></a>第一步：新建一个Django项目</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">django-admin</span><span class="hljs-selector-class">.py</span> <span class="hljs-selector-tag">startproject</span> <span class="hljs-selector-tag">DjangoDrfTest</span><br></code></pre></td></tr></table></figure>

<h2 id="第二步：新建一个APP"><a href="#第二步：新建一个APP" class="headerlink" title="第二步：新建一个APP"></a>第二步：新建一个APP</h2><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vim"><span class="hljs-keyword">python</span> manage.<span class="hljs-keyword">py</span> startapp news<br></code></pre></td></tr></table></figure>

<h2 id="第三步：修改settings-py"><a href="#第三步：修改settings-py" class="headerlink" title="第三步：修改settings.py"></a>第三步：修改settings.py</h2><figure class="highlight sml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs sml"><span class="hljs-type">INSTALLED_APPS</span> = [<br>    <span class="hljs-symbol">'django</span>.contrib.admin',<br>    <span class="hljs-symbol">'django</span>.contrib.auth',<br>    <span class="hljs-symbol">'django</span>.contrib.contenttypes',<br>    <span class="hljs-symbol">'django</span>.contrib.sessions',<br>    <span class="hljs-symbol">'django</span>.contrib.messages',<br>    <span class="hljs-symbol">'django</span>.contrib.staticfiles',<br>    <span class="hljs-symbol">'rest_framework'</span>,<br>    <span class="hljs-string">"drf_yasg"</span><br>]<br><br><span class="hljs-type">SWAGGER_SETTINGS</span> = &#123;<br>    <span class="hljs-symbol">'LOGIN_URL'</span>: <span class="hljs-string">'/admin/login'</span>,<br>    <span class="hljs-symbol">'LOGOUT_URL'</span>: <span class="hljs-string">'/admin/logout'</span>,<br>    <span class="hljs-symbol">'PERSIST_AUTH'</span>: <span class="hljs-type">True</span>,<br>    <span class="hljs-symbol">'REFETCH_SCHEMA_WITH_AUTH'</span>: <span class="hljs-type">True</span>,<br>    <span class="hljs-symbol">'REFETCH_SCHEMA_ON_LOGOUT'</span>: <span class="hljs-type">True</span>,<br><br>    <span class="hljs-symbol">'DEFAULT_INFO'</span>: <span class="hljs-symbol">'DjangoDrfTest</span>.urls.swagger_info',  # 描述信息<br><br>    <span class="hljs-symbol">'SECURITY_DEFINITIONS'</span>: &#123;<br>        <span class="hljs-symbol">'Basic'</span>: &#123;<br>            <span class="hljs-symbol">'type'</span>: <span class="hljs-symbol">'basic'</span><br>        &#125;,<br>        <span class="hljs-symbol">'Bearer'</span>: &#123;<br>            <span class="hljs-symbol">'type'</span>: <span class="hljs-symbol">'apiKey'</span>,<br>            <span class="hljs-symbol">'name'</span>: <span class="hljs-symbol">'authorization'</span>,<br>            <span class="hljs-symbol">'in'</span>: <span class="hljs-symbol">'header'</span><br>        &#125;,<br>        <span class="hljs-symbol">'Query'</span>: &#123;<br>            <span class="hljs-symbol">'type'</span>: <span class="hljs-symbol">'apiKey'</span>,<br>            <span class="hljs-symbol">'name'</span>: <span class="hljs-symbol">'auth'</span>,<br>            <span class="hljs-symbol">'in'</span>: <span class="hljs-symbol">'query'</span><br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="第四步：修改news-x2F-下修改views-py"><a href="#第四步：修改news-x2F-下修改views-py" class="headerlink" title="第四步：修改news&#x2F;下修改views.py"></a>第四步：修改news&#x2F;下修改views.py</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: utf-8 -*-</span><br><span class="hljs-keyword">import</span> sys<br><br>reload(sys)<br>sys.setdefaultencoding(<span class="hljs-string">"utf8"</span>)<br>sys.path.append(<span class="hljs-string">'../'</span>)<br><span class="hljs-comment"># from __future__ import unicode_literals</span><br><span class="hljs-keyword">from</span> django.shortcuts <span class="hljs-keyword">import</span> render<br><span class="hljs-keyword">from</span> drf_yasg.utils <span class="hljs-keyword">import</span> swagger_auto_schema<br><span class="hljs-keyword">from</span> drf_yasg <span class="hljs-keyword">import</span> openapi<br><span class="hljs-keyword">from</span> rest_framework.views <span class="hljs-keyword">import</span> APIView<br><span class="hljs-keyword">import</span> json<br><span class="hljs-keyword">from</span> django.http <span class="hljs-keyword">import</span> JsonResponse<br><span class="hljs-keyword">from</span> pymongo <span class="hljs-keyword">import</span> MongoClient<br><br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_request_args</span><span class="hljs-params">(func)</span>:</span><br>    <span class="hljs-keyword">return</span> &#123;&#125;<br><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">GetOneNews</span><span class="hljs-params">(APIView)</span>:</span><br>    test_param = openapi.Parameter(<span class="hljs-string">"id"</span>, openapi.IN_QUERY, description=<span class="hljs-string">"test manual param"</span>,<br>                                   type=openapi.TYPE_INTEGER)<br><br><span class="hljs-meta">    @swagger_auto_schema(operation_description="partial_update description override",</span><br>                         responses=&#123;<span class="hljs-number">404</span>: <span class="hljs-string">'id not found'</span>&#125;,<br>                         manual_parameters=[test_param])<br><span class="hljs-meta">    @get_request_args</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get</span><span class="hljs-params">(self, request, args)</span>:</span><br>        <span class="hljs-keyword">return</span> JsonResponse(&#123;&#125;)<br><br><br><span class="hljs-meta">    @swagger_auto_schema(</span><br>        operation_description=<span class="hljs-string">"apiview post description override"</span>,<br>        request_body=openapi.Schema(<br>            type=openapi.TYPE_OBJECT,<br>            required=[<span class="hljs-string">'id'</span>, <span class="hljs-string">"user_name"</span>],<br>            properties=&#123;<br>                <span class="hljs-string">'id'</span>: openapi.Schema(type=openapi.TYPE_INTEGER),<br>                <span class="hljs-string">'user_name'</span>: openapi.Schema(type=openapi.TYPE_STRING)<br>            &#125;,<br>        ),<br>        security=[]<br>    )<br><span class="hljs-meta">    @get_request_args</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">post</span><span class="hljs-params">(self, request, args)</span>:</span><br>        <span class="hljs-keyword">return</span> JsonResponse(&#123;&#125;)<br></code></pre></td></tr></table></figure>

<p><strong>@swagger_auto_schema 装饰器要放在所有装饰器的首位</strong></p>
<h2 id="第五步：news-x2F-下新建urls-py并添加以下内容"><a href="#第五步：news-x2F-下新建urls-py并添加以下内容" class="headerlink" title="第五步：news&#x2F;下新建urls.py并添加以下内容"></a>第五步：news&#x2F;下新建urls.py并添加以下内容</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> sys<br><br>reload(sys)<br>sys.setdefaultencoding(<span class="hljs-string">'utf-8'</span>)<br>sys.path.append(<span class="hljs-string">'../'</span>)<br><span class="hljs-keyword">from</span> django.conf.urls <span class="hljs-keyword">import</span> url<br><span class="hljs-keyword">from</span> views <span class="hljs-keyword">import</span> *<br><br>urlpatterns = [<br>    url(<span class="hljs-string">r'^getOneNews/?$'</span>, GetOneNews.as_view(), name=<span class="hljs-string">'get_one_news'</span>), <br>]<br></code></pre></td></tr></table></figure>

<h2 id="第六步：修改DjangoDrfTest-x2F-urls-py"><a href="#第六步：修改DjangoDrfTest-x2F-urls-py" class="headerlink" title="第六步：修改DjangoDrfTest&#x2F;urls.py"></a>第六步：修改DjangoDrfTest&#x2F;urls.py</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> user_agents<br><span class="hljs-keyword">from</span> django.conf.urls <span class="hljs-keyword">import</span> include, url<br><span class="hljs-keyword">from</span> django.contrib <span class="hljs-keyword">import</span> admin<br><span class="hljs-keyword">from</span> django.shortcuts <span class="hljs-keyword">import</span> redirect<br><span class="hljs-keyword">from</span> rest_framework <span class="hljs-keyword">import</span> permissions<br><span class="hljs-keyword">from</span> drf_yasg <span class="hljs-keyword">import</span> openapi<br><span class="hljs-keyword">from</span> drf_yasg.views <span class="hljs-keyword">import</span> get_schema_view<br><br><br>swagger_info = openapi.Info(<br>    title=<span class="hljs-string">"Snippets API"</span>,<br>    default_version=<span class="hljs-string">'v1'</span>,<br>    description=<span class="hljs-string">"""This is a demo project for the [drf-yasg](https://github.com/axnsan12/drf-yasg) Django Rest Framework library.</span><br><span class="hljs-string"></span><br><span class="hljs-string">            The `swagger-ui` view can be found [here](/cached/swagger).  </span><br><span class="hljs-string">            The `ReDoc` view can be found [here](/cached/redoc).  </span><br><span class="hljs-string">            The swagger YAML document can be found [here](/cached/swagger.yaml).  </span><br><span class="hljs-string">            </span><br><span class="hljs-string">            You can log in using the pre-existing `admin` user with password `passwordadmin`."""</span>,  <span class="hljs-comment"># noqa</span><br>    <br>    terms_of_service=<span class="hljs-string">"https://www.google.com/policies/terms/"</span>,<br>    contact=openapi.Contact(email=<span class="hljs-string">"contact@snippets.local"</span>),<br>    license=openapi.License(name=<span class="hljs-string">"BSD License"</span>),<br>)<br><br>SchemaView = get_schema_view(<br>    info = swagger_info,<br>    validators=[<span class="hljs-string">'ssv'</span>, <span class="hljs-string">'flex'</span>],<br>    public=<span class="hljs-literal">True</span>,<br>    permission_classes=(permissions.AllowAny,),<br>)<br><br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">root_redirect</span><span class="hljs-params">(request)</span>:</span><br>    user_agent_string = request.META.get(<span class="hljs-string">'HTTP_USER_AGENT'</span>, <span class="hljs-string">''</span>)<br>    user_agent = user_agents.parse(user_agent_string)<br><br>    <span class="hljs-keyword">if</span> user_agent.is_mobile:<br>        schema_view = <span class="hljs-string">'cschema-redoc'</span><br>    <span class="hljs-keyword">else</span>:<br>        schema_view = <span class="hljs-string">'cschema-swagger-ui'</span><br><br>    <span class="hljs-keyword">return</span> redirect(schema_view, permanent=<span class="hljs-literal">True</span>)<br><br><br>urlpatterns = [<br>    url(<span class="hljs-string">r'^admin/'</span>, admin.site.urls),<br>    url(<span class="hljs-string">r'^swagger(?P&lt;format&gt;.json|.yaml)$'</span>, SchemaView.without_ui(cache_timeout=<span class="hljs-number">0</span>), name=<span class="hljs-string">'schema-json'</span>),<br>    url(<span class="hljs-string">r'^swagger/$'</span>, SchemaView.with_ui(<span class="hljs-string">'swagger'</span>, cache_timeout=<span class="hljs-number">0</span>), name=<span class="hljs-string">'schema-swagger-ui'</span>),<br>    url(<span class="hljs-string">r'^redoc/$'</span>, SchemaView.with_ui(<span class="hljs-string">'redoc'</span>, cache_timeout=<span class="hljs-number">0</span>), name=<span class="hljs-string">'schema-redoc'</span>),<br>    url(<span class="hljs-string">r'^redoc-old/$'</span>, SchemaView.with_ui(<span class="hljs-string">'redoc-old'</span>, cache_timeout=<span class="hljs-number">0</span>), name=<span class="hljs-string">'schema-redoc-old'</span>),<br><br>    url(<span class="hljs-string">r'^cached/swagger(?P&lt;format&gt;.json|.yaml)$'</span>, SchemaView.without_ui(cache_timeout=<span class="hljs-literal">None</span>), name=<span class="hljs-string">'cschema-json'</span>),<br>    url(<span class="hljs-string">r'^cached/swagger/$'</span>, SchemaView.with_ui(<span class="hljs-string">'swagger'</span>, cache_timeout=<span class="hljs-literal">None</span>), name=<span class="hljs-string">'cschema-swagger-ui'</span>),<br>    url(<span class="hljs-string">r'^cached/redoc/$'</span>, SchemaView.with_ui(<span class="hljs-string">'redoc'</span>, cache_timeout=<span class="hljs-literal">None</span>), name=<span class="hljs-string">'cschema-redoc'</span>),<br>    url(<span class="hljs-string">r'^$'</span>, root_redirect),<br>    url(<span class="hljs-string">r'^news/'</span>, include(<span class="hljs-string">'news.urls'</span>, namespace=<span class="hljs-string">"crawl_config"</span>)),<br>]<br></code></pre></td></tr></table></figure>


<h2 id="第七步：运行managy-py"><a href="#第七步：运行managy-py" class="headerlink" title="第七步：运行managy.py"></a>第七步：运行managy.py</h2><ul>
<li>python manage.py runserver</li>
<li>访问 <a href="http://127.0.0.1:8000/" target="_blank" rel="noopener">http://127.0.0.1:8000</a></li>
</ul>
<p><strong>API通过header apiKey验证或者apiKey在query中，变量的配置位置在settings.py中SWAGGER_SETTINGS配置项中</strong></p>
<h2 id="get-schema-view-参数："><a href="#get-schema-view-参数：" class="headerlink" title="get_schema_view 参数："></a>get_schema_view 参数：</h2><ul>
<li>info - Swagger API Info对象; 如果省略，则默认为DEFAULT_INFO</li>
<li>url - API基本网址; 如果留空，则将从提供视图的位置推断出</li>
<li>patterns - 传递给SchemaGenerator</li>
<li>urlconf - 传递给SchemaGenerator</li>
<li>public - 如果为False，则仅包括当前用户有权访问的端点</li>
<li>validators - 要在生成的模式上应用的验证器名称列表; 允许的值是flex，ssv</li>
<li>generator_class - 要使用的模式生成器类; 应该是的子类OpenAPISchemaGenerator</li>
<li>authentication_classes - 架构视图本身的身份验证类</li>
<li>permission_classes - 架构视图本身的权限类</li>
</ul>
<h3 id="get-schema-view-方法"><a href="#get-schema-view-方法" class="headerlink" title="get_schema_view 方法:"></a>get_schema_view 方法:</h3><ul>
<li>SchemaView.with_ui(renderer, cache_timeout, cache_kwargs) - 使用指定的UI渲染器获取视图实例; 之一swagger，redoc</li>
<li>SchemaView.without_ui(cache_timeout, cache_kwargs) - 获取没有UI渲染器的视图实例; 一样as_cached_view没有kwargs</li>
<li>SchemaView.as_cached_view(cache_timeout, cache_kwargs, **initkwargs)- as_view与之相同，但具有可选的缓存</li>
<li>当然，也可以使用 as_view</li>
<li>所有前3个方法都有两个可选参数，cache_timeout并且cache_kwargs; 如果存在，这些将传递给Django的cached_page装饰器，以便在结果视图上启用缓存。请参阅(<a href="http://drf-yasg.readthedocs.io/en/stable/readme.html#caching)%E3%80%82" target="_blank" rel="noopener">http://drf-yasg.readthedocs.io/en/stable/readme.html#caching)。</a></li>
</ul>
<h2 id="前端显示"><a href="#前端显示" class="headerlink" title="前端显示"></a>前端显示</h2><p>swagger的网页资源是和python包放置在一起。</p>
<p>在服务器上部署时，找到不到静态资源位置的。</p>
<p>所以要讲python 包下这个static文件夹复制到工程的根目录下，就可以看到前端啦</p>
<h2 id="drf-yasg-utils-swagger-auto-schema"><a href="#drf-yasg-utils-swagger-auto-schema" class="headerlink" title="drf_yasg.utils.swagger_auto_schema"></a>drf_yasg.utils.swagger_auto_schema</h2><p><a href="https://drf-yasg.readthedocs.io/en/stable/drf_yasg.html#drf_yasg.utils.swagger_auto_schema" target="_blank" rel="noopener">官网链接</a></p>
<p>drf_yasg.utils.swagger_auto_schema(<br>    method&#x3D;None, methods&#x3D;None, auto_schema&#x3D;&lt;class ‘drf_yasg.utils.unset’&gt;, request_body&#x3D;None, query_serializer&#x3D;None, manual_parameters&#x3D;None, operation_id&#x3D;None, operation_description&#x3D;None, operation_summary&#x3D;None, security&#x3D;None, deprecated&#x3D;None, responses&#x3D;None, field_inspectors&#x3D;None, filter_inspectors&#x3D;None, paginator_inspectors&#x3D;None, tags&#x3D;None, **extra_overrides)</p>
<ul>
<li><p>method (str) – for multi-method views, the http method the options should apply to</p>
</li>
<li><p>methods (list[str]) – for multi-method views, the http methods the options should apply to</p>
</li>
<li><p>auto_schema (drf_yasg.inspectors.SwaggerAutoSchema) – custom class to use for generating the Operation object; this overrides both the class-level swagger_schema attribute and the DEFAULT_AUTO_SCHEMA_CLASS setting, and can be set to None to prevent this operation from being generated</p>
</li>
<li><p>request_body (drf_yasg.openapi.Schema or drf_yasg.openapi.SchemaRef or rest_framework.serializers.Serializer or type[no_body]) – custom request body which will be used as the schema property of a Parameter with in: ‘body’.<br>  A Schema or SchemaRef is not valid if this request consumes form-data, because form and body parameters are mutually exclusive in an Operation. If you need to set custom form parameters, you can use the manual_parameters argument.<br>  If a Serializer class or instance is given, it will be automatically converted into a Schema used as a body Parameter, or into a list of form Parameters, as appropriate.</p>
</li>
<li><p>query_serializer (rest_framework.serializers.Serializer) – if you use a Serializer to parse query parameters, you can pass it here and have Parameter objects be generated automatically from it.<br>  If any Field on the serializer cannot be represented as a query Parameter (e.g. nested Serializers, file fields, …), the schema generation will fail with an error.<br>  Schema generation will also fail if the name of any Field on the query_serializer conflicts with parameters generated by filter_backends or paginator.</p>
</li>
<li><p>manual_parameters (list[drf_yasg.openapi.Parameter]) – a list of manual parameters to override the automatically generated ones Parameters are identified by their (name, in) combination, and any parameters given here will fully override automatically generated parameters if they collide.<br>  It is an error to supply form parameters when the request does not consume form-data.</p>
</li>
<li><p>operation_id (str) – operation ID override; the operation ID must be unique across the whole API</p>
</li>
<li><p>operation_description (str) – operation description override</p>
</li>
<li><p>operation_summary (str) – operation summary string</p>
</li>
<li><p>security (list[dict]) – security requirements override; used to specify which authentication mechanism is required to call this API; an empty list marks the endpoint as unauthenticated (i.e. removes all accepted authentication schemes), and None will inherit the top-level security requirements</p>
</li>
<li><p>deprecated (bool) – deprecation status for operation</p>
</li>
<li><p>responses (dict[int or str, (drf_yasg.openapi.Schema or drf_yasg.openapi.SchemaRef or drf_yasg.openapi.Response or str or rest_framework.serializers.Serializer)]) – a dict of documented manual responses keyed on response status code. If no success (2xx) response is given, one will automatically be generated from the request body and http method. If any 2xx response is given the automatic response is suppressed.</p>
<ul>
<li>if a plain string is given as value, a Response with no body and that string as its description will be generated</li>
<li>if None is given as a value, the response is ignored; this is mainly useful for disabling default 2xx responses, i.e. responses&#x3D;{200: None, 302: ‘something’}</li>
<li>if a Schema, SchemaRef is given, a Response with the schema as its body and an empty description will be generated</li>
<li>a Serializer class or instance will be converted into a Schema and treated as above</li>
<li>a Response object will be used as-is; however if its schema attribute is a Serializer, it will automatically be converted into a Schema</li>
</ul>
</li>
<li><p>field_inspectors (list[type[drf_yasg.inspectors.FieldInspector]]) – extra serializer and field inspectors; these will be tried before ViewInspector.field_inspectors on the inspectors.SwaggerAutoSchema</p>
</li>
<li><p>filter_inspectors (list[type[drf_yasg.inspectors.FilterInspector]]) – extra filter inspectors; these will be tried before ViewInspector.filter_inspectors on the inspectors.SwaggerAutoSchema</p>
</li>
<li><p>paginator_inspectors (list[type[drf_yasg.inspectors.PaginatorInspector]]) – extra paginator inspectors; these will be tried before ViewInspector.paginator_inspectors on the inspectors.SwaggerAutoSchema</p>
</li>
<li><p>tags (list[str]) – tags override</p>
</li>
<li><p>extra_overrides – extra values that will be saved into the overrides dict; these values will be available in the handling inspectors.SwaggerAutoSchema instance via self.overrides</p>
</li>
</ul>
<h2 id="参考文章"><a href="#参考文章" class="headerlink" title="参考文章"></a>参考文章</h2><ul>
<li><a href="https://blog.csdn.net/lmz_lmz/article/details/81028715" target="_blank" rel="noopener">drf-yasg 之@swagger_auto_schema装饰器的用法</a></li>
<li><a href="https://blog.csdn.net/weixin_31449201/article/details/81109128" target="_blank" rel="noopener">DRF视图的详细用法</a></li>
<li><a href="https://github.com/axnsan12/drf-yasg" target="_blank" rel="noopener">https://github.com/axnsan12/drf-yasg</a></li>
<li><a href="https://drf-yasg.readthedocs.io/en/stable/readme.html" target="_blank" rel="noopener">https://drf-yasg.readthedocs.io/en/stable/readme.html</a></li>
<li><a href="https://blog.csdn.net/u012328712/article/details/84307658" target="_blank" rel="noopener">Django+rest_framework+drf_yasg 生成swaggers在线API文档</a></li>
<li><a href="https://blog.csdn.net/lmz_lmz/article/details/80986106" target="_blank" rel="noopener">drf-yasg 用法</a></li>
</ul>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/Python/" class="category-chain-item">Python</a>
  
  
    <span>></span>
    
  <a href="/categories/Python/Django/" class="category-chain-item">Django</a>
  
  
    <span>></span>
    
  <a href="/categories/Python/Django/DRF/" class="category-chain-item">DRF</a>
  
  

  

  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/Python/" class="print-no-link">#Python</a>
      
        <a href="/tags/Django/" class="print-no-link">#Django</a>
      
        <a href="/tags/DRF/" class="print-no-link">#DRF</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>Django REST framework +drf_yasg 生成swaggers在线API文档</div>
      <div>https://flepeng.github.io/021-Python-34-框架-Django-REST-framework-Django-REST-framework-drf-yasg-生成swaggers在线API文档/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>Lepeng</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2016年8月4日</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>许可协议</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - 署名">
                    <i class="iconfont icon-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/021-Python-34-%E6%A1%86%E6%9E%B6-Django-Django-%E8%B7%AF%E7%94%B1%EF%BC%88SimpleRouter%EF%BC%8C-DefaultRouter%EF%BC%8CExtendedDefaultRouter%EF%BC%89/" title="Django 路由（SimpleRouter， DefaultRouter，ExtendedDefaultRouter）">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">Django 路由（SimpleRouter， DefaultRouter，ExtendedDefaultRouter）</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/021-Python-34-%E6%A1%86%E6%9E%B6-Django-REST-framework-Django-REST-framework-%E4%BB%8B%E7%BB%8D/" title="Django REST framework 介绍">
                        <span class="hidden-mobile">Django REST framework 介绍</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
  
  
    <article id="comments" lazyload>
      
    <div id="giscus" class="giscus"></div>
    <script type="text/javascript">
      Fluid.utils.loadComments('#giscus', function() {
        var options = {"repo":"flepeng/hexo-blog-comment","repo-id":"R_kgDOL0qaig","category":"Announcements","category-id":"DIC_kwDOL0qais4CfBIv","theme-light":"light","theme-dark":"dark","mapping":"pathname","reactions-enabled":1,"emit-metadata":0,"input-position":"top","lang":"zh-CN"};
        var attributes = {};
        for (let option in options) {
          if (!option.startsWith('theme-')) {
            var key = option.startsWith('data-') ? option : 'data-' + option;
            attributes[key] = options[option];
          }
        }
        var light = 'light';
        var dark = 'dark';
        window.GiscusThemeLight = light;
        window.GiscusThemeDark = dark;
        attributes['data-theme'] = document.documentElement.getAttribute('data-user-color-scheme') === 'dark' ? dark : light;
        for (let attribute in attributes) {
          var value = attributes[attribute];
          if (value === undefined || value === null || value === '') {
            delete attributes[attribute];
          }
        }
        var s = document.createElement('script');
        s.setAttribute('src', 'https://giscus.app/client.js');
        s.setAttribute('crossorigin', 'anonymous');
        for (let attribute in attributes) {
          s.setAttribute(attribute, attributes[attribute]);
        }
        var ss = document.getElementsByTagName('script');
        var e = ss.length > 0 ? ss[ss.length - 1] : document.head || document.documentElement;
        e.parentNode.insertBefore(s, e.nextSibling);
      });
    </script>
    <noscript>Please enable JavaScript to view the comments</noscript>


    </article>
  


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
    <div class="statistics">
  
  

  
    
      <span id="busuanzi_container_site_pv" style="display: none">
        总访问量 
        <span id="busuanzi_value_site_pv"></span>
         次
      </span>
    
    
      <span id="busuanzi_container_site_uv" style="display: none">
        总访客数 
        <span id="busuanzi_value_site_uv"></span>
         人
      </span>
    
    
  
</div>

  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>

  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</body>
</html>
